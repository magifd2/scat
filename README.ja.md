# scat

`scat`は、ファイルや標準入力からのコンテンツを設定済みのHTTPエンドポイントに投稿するためのコマンドラインインターフェースツールです。`slackcat`にインスパイアされていますが、任意の互換性のあるWebhookやAPIエンドポイントで動作するように汎用化されています。

## 主な特徴

*   **柔軟な入力**: コマンドライン引数、ファイル、標準入力（パイプ）を介してコンテンツを渡せます。
*   **ストリーミング対応**: 標準入力からのデータをエンドポイントに継続的にストリーミングします。
*   **プロファイル管理**: 複数のエンドポイント設定（URL、トークンなど）をプロファイルとして保存し、簡単に切り替えられます。
*   **シンプルな認証**: 静的なベアラートークンを認証に使用します。
*   **シングルバイナリ**: 配布と利用が簡単です。

## インストール

提供されている`Makefile`を使用して簡単にインストールできます。

*   **デフォルトインストール（システム全体）:**
    `scat`を`/usr/local/bin`にインストールする場合（`sudo`が必要です）：
    ```bash
    sudo make install
    ```

*   **ユーザーローカルインストール:**
    `scat`を`~/bin`にインストールする場合（非rootユーザーに推奨、`~/bin`が`PATH`に含まれていることを確認してください）：
    ```bash
    make install PREFIX=~
    ```

## クイックスタート

1.  **プロファイルの設定:**

    最初に投稿先のエンドポイントを設定します。デフォルトプロファイルはプレースホルダー値で作成されます。

    ```bash
    # デフォルトプロファイルのエンドポイントを設定
    scat profile set endpoint https://your-webhook-url.com/xxxx

    # デフォルトプロファイルの認証トークンを設定
    scat profile set token YOUR_SECRET_TOKEN
    ```

2.  **メッセージの投稿:**

    ```bash
    # 簡単な文字列を投稿
    echo "こんにちは、世界！" | scat post

    # ファイルから投稿
    scat post /path/to/your/file.txt

    # ログファイルをストリーミング
    tail -f /var/log/syslog | scat post --stream
    ```

## コマンドリファレンス

### `scat post`

設定されたエンドポイントにコンテンツを投稿します。

| フラグ      | 短縮形 | 説明                                               |
| --------- | ------ | -------------------------------------------------- |
| `--channel` | `-c`   | 使用するプロファイル（アクティブなデフォルトを上書き） |
| `--stream`  | `-s`   | 標準入力からのメッセージを継続的にストリーミング   |

### `scat profile`

設定プロファイルを管理します。

| サブコマンド | 説明                                                     |
| ---------- | -------------------------------------------------------- |
| `list`     | 利用可能なすべてのプロファイルの一覧表示                 |
| `use`      | アクティブなプロファイルの切り替え                       |
| `add`      | 新しいプロファイルの追加                                 |
| `set`      | 現在のプロファイルの値を設定 (キー: `endpoint`, `token`, `username`) |
| `remove`   | プロファイルの削除                                       |

## 開発

ソースからビルドする場合：

```bash
make build
```
